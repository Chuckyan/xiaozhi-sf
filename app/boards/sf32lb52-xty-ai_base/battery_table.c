#include <stdint.h>
#include "drv_io.h"

// Discharging curve table
// 4.1V = 100%, 3.5V = 0%, 线性分布
const battery_lookup_point_t discharge_curve_table[] = {
    {100, 41000}, {99, 40940}, {98, 40880}, {97, 40820}, {96, 40760},
    {95, 40700},  {94, 40640}, {93, 40580}, {92, 40520}, {91, 40460},
    {90, 40400},  {89, 40340}, {88, 40280}, {87, 40220}, {86, 40160},
    {85, 40100},  {84, 40040}, {83, 39980}, {82, 39920}, {81, 39860},
    {80, 39800},  {79, 39740}, {78, 39680}, {77, 39620}, {76, 39560},
    {75, 39500},  {74, 39440}, {73, 39380}, {72, 39320}, {71, 39260},
    {70, 39200},  {69, 39140}, {68, 39080}, {67, 39020}, {66, 38960},
    {65, 38900},  {64, 38840}, {63, 38780}, {62, 38720}, {61, 38660},
    {60, 38600},  {59, 38540}, {58, 38480}, {57, 38420}, {56, 38360},
    {55, 38300},  {54, 38240}, {53, 38180}, {52, 38120}, {51, 38060},
    {50, 38000},  {49, 37940}, {48, 37880}, {47, 37820}, {46, 37760},
    {45, 37700},  {44, 37640}, {43, 37580}, {42, 37520}, {41, 37460},
    {40, 37400},  {39, 37340}, {38, 37280}, {37, 37220}, {36, 37160},
    {35, 37100},  {34, 37040}, {33, 36980}, {32, 36920}, {31, 36860},
    {30, 36800},  {29, 36740}, {28, 36680}, {27, 36620}, {26, 36560},
    {25, 36500},  {24, 36440}, {23, 36380}, {22, 36320}, {21, 36260},
    {20, 36200},  {19, 36140}, {18, 36080}, {17, 36020}, {16, 35960},
    {15, 35900},  {14, 35840}, {13, 35780}, {12, 35720}, {11, 35660},
    {10, 35600},  {9, 35540},  {8, 35480},  {7, 35420},  {6, 35360},
    {5, 35300},   {4, 35240},  {3, 35180},  {2, 35120},  {1, 35060},
    {0, 35000},

};

// charging table
const battery_lookup_point_t charging_curve_table[] = {
    {100, 41998}, {99, 41864}, {98, 41572}, {97, 41384}, {96, 41225},
    {95, 41110},  {94, 41009}, {93, 40944}, {92, 40867}, {91, 40817},
    {90, 40780},  {89, 40742}, {88, 40718}, {87, 40697}, {86, 40677},
    {85, 40658},  {84, 40646}, {83, 40624}, {82, 40624}, {81, 40605},
    {80, 40594},  {79, 40591}, {78, 40582}, {77, 40569}, {76, 40556},
    {75, 40549},  {74, 40531}, {73, 40509}, {72, 40478}, {71, 40447},
    {70, 40421},  {69, 40386}, {68, 40356}, {67, 40311}, {66, 40281},
    {65, 40241},  {64, 40197}, {63, 40177}, {62, 40123}, {61, 40103},
    {60, 40069},  {59, 40045}, {58, 40006}, {57, 39965}, {56, 39901},
    {55, 39853},  {54, 39773}, {53, 39706}, {52, 39620}, {51, 39550},
    {50, 39465},  {49, 39412}, {48, 39353}, {47, 39295}, {46, 39260},
    {45, 39211},  {44, 39180}, {43, 39143}, {42, 39123}, {41, 39094},
    {40, 39075},  {39, 39064}, {38, 39046}, {37, 39028}, {36, 38997},
    {35, 38980},  {34, 38966}, {33, 38941}, {32, 38912}, {31, 38889},
    {30, 38850},  {29, 38828}, {28, 38783}, {27, 38752}, {26, 38704},
    {25, 38661},  {24, 38613}, {23, 38561}, {22, 38509}, {21, 38485},
    {20, 38425},  {19, 38359}, {18, 38289}, {17, 38220}, {16, 38155},
    {15, 38068},  {14, 37992}, {13, 37909}, {12, 37814}, {11, 37707},
    {10, 37657},  {9, 37595},  {8, 37520},  {7, 37449},  {6, 37381},
    {5, 37276},   {4, 37161},  {3, 36973},  {2, 36698},  {1, 36164},
    {0, 35577}};

const uint32_t discharge_curve_table_size =
    sizeof(discharge_curve_table) / sizeof(discharge_curve_table[0]);
const uint32_t charging_curve_table_size =
    sizeof(charging_curve_table) / sizeof(charging_curve_table[0]);
